<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


<div class="container">

    <h1>Ingreso de productos</h1>
        
    <form class="contenedor-form"  [formGroup] ="formularioContacto" (ngSubmit)="enviar()" #quizForm='ngForm' autocomplete="off">
        <div class="form-group row bordes">
        <label for="staticEmail" class="col-sm-2 col-form-label">Nombre</label>
        <div class="col-sm-10">
            <input type="text" required formControlName="nombre">
        </div>
        </div>
        <div class="form-group row bordes">
            <label for="staticEmail" class="col-sm-2 col-form-label">Precio</label>
            <div class="col-sm-10">
            <input type="number" required formControlName="precio">
            </div>
        </div>
        <div class="form-group row bordes">
            <label for="staticEmail" class="col-sm-2 col-form-label">Código</label>
            <div class="col-sm-10">
            <input type="number" required formControlName="codigo">
            </div>
        </div>
        <div class="form-group row bordes">
            <label for="staticEmail" class="col-sm-2 col-form-label">Cantidad</label>
            <div class="col-sm-10">
            <input type="number" required formControlName="cantidad">
            </div>
        </div>
        <div class="form-group row button-container">
            <input type="submit" [disabled] = '!quizForm.form.valid' >
            </div>

    </form>

    <div class="mensaje">
        {{mensaje}}
    </div>

    <div class="">
        <h3>Productos registrados</h3>
    </div>
</div>

    
<div class="container">
<div class="table-responsive">
    <table  class=" table table-dark" >
        <thead>
        <tr>
            <th scope="col">Código</th>
            <th scope="col">Nombre</th>
            <th scope="col">Precio</th>
            <th scope="col">Precio Iva</th>
            <th scope="col">Cantidad</th>
            <th scope="col">Eliminar</th>
            <th scope="col">Modificar</th>
            <th scope="col">Añadir</th>

        </tr>
        </thead>
        <tbody>
        
        <tr *ngFor="let datos of array">
            <td *ngIf="datos.codigo != null">{{datos.codigo}}</td>
            <td *ngIf="datos.nombre != null">{{datos.nombre}}</td>
            <td *ngIf="datos.precio != null">{{datos.precio}}</td>
            <td *ngIf="datos.iva != null">{{datos.iva}}</td>
            <td *ngIf="datos.cantidad != null">{{datos.cantidad}}</td>
            <td *ngIf="datos.codigo != null"><button (click)="eliminar(datos.codigo)">Eliminar</button></td>
            <td *ngIf="datos.codigo != null"><button (click)="modificar(datos.codigo)">Modificar</button></td>
            <td *ngIf="datos.codigo != null"><button (click)="anadir(datos.codigo)">Añadir</button></td>
        </tr>


        </tbody>
    </table>
</div>

    <div class="">
        <h3>Orden de compra</h3>
    </div>


    

<div class="table-responsive">
    <table  class=" table table-dark">
        <thead>
        <tr>
            <th scope="col">Código</th>
            <th scope="col">Nombre</th>
            <th scope="col">Precio</th>
            <th scope="col">Precio Iva</th>
            <th scope="col">Cantidad</th>
            <th scope="col">Total</th>
            <th scope="col">Eliminar</th>
            <th scope="col">Aumentar</th>
            <th scope="col">Disminuir</th>

        </tr>
        </thead>
        <tbody>
        
        <tr *ngFor="let dato of orden">
            <td *ngIf="dato.codigo != null">{{dato.codigo}}</td>
            <td *ngIf="dato.nombre != null">{{dato.nombre}}</td>
            <td *ngIf="dato.precio != null">{{dato.precio}}</td>
            <td *ngIf="dato.iva != null">{{dato.iva}}</td>
            <td *ngIf="dato.cantidad != null">{{dato.cantidad}}</td>
            <td *ngIf="dato.cantidad != null">{{dato.total}}</td>
            <td *ngIf="dato.codigo != null"><button (click)="eliminarOrden(dato.codigo)">Eliminar</button></td>
            <td *ngIf="dato.codigo != null"><button (click)="aumentarCantidad(dato.codigo)">Aumentar</button></td>
            <td *ngIf="dato.codigo != null"><button (click)="disminuirCantidad(dato.codigo)">Disminuir</button></td>
        </tr>


        </tbody>
    </table>
</div>

    <div>
        <h2 *ngIf="totalPago!=null"> Total a pagar: {{totalPago}}</h2>
        
    </div>


</div>






  